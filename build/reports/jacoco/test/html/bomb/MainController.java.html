<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MainController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Cent2</a> &gt; <a href="index.source.html" class="el_package">bomb</a> &gt; <span class="el_source">MainController.java</span></div><h1>MainController.java</h1><pre class="source lang-java linenums">package bomb;

import bomb.modules.dh.ForgetMeNot;
import bomb.modules.s.Souvenir;
import bomb.enumerations.*;
import bomb.interfaces.Reset;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Alert;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.Tab;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleButton;
import javafx.scene.control.ToggleGroup;
import javafx.stage.Stage;

import java.io.IOException;
import java.util.ArrayList;

import static bomb.enumerations.TriState.*;
import static bomb.tools.Mechanics.NORMAL_CHAR_REGEX;
import static bomb.tools.Mechanics.NUMBER_REGEX;
import static bomb.tools.Mechanics.ultimateFilter;

<span class="nc" id="L29">public class MainController implements Reset {</span>
<span class="nc" id="L30">    private final ArrayList&lt;Stage&gt; noteWindows = new ArrayList&lt;&gt;(5);</span>
<span class="nc" id="L31">    private int stageCounter = 1;</span>
<span class="nc" id="L32">    private final ToggleGroup bobGroup = new ToggleGroup(),</span>
            carGroup = new ToggleGroup(), clrGroup = new ToggleGroup(),
            frkGroup = new ToggleGroup(), frqGroup = new ToggleGroup(),
            indGroup = new ToggleGroup(), msaGroup = new ToggleGroup(),
            nsaGroup = new ToggleGroup(), sigGroup = new ToggleGroup(),
            sndGroup = new ToggleGroup(), trnGroup = new ToggleGroup();

    @FXML
    private Button
            dviUp, parallelUp, psUp, rjUp, serialUp, rcaUp,
            dviDown, parallelDown, psDown, rjDown, serialDown, rcaDown,
            one, two, three, four, five, six, seven, eight, nine, zero, flush, undoButton;

    @FXML
    private Label bob, car, clr, frk, frq, ind, msa, nsa, sig, snd, trn,
            aLabel, dLabel, holderLabel, plateLabel, minuteLabel, moduleLabel,
            currentStage;

    @FXML
    private Tab souvenirTab, forgetTab;

    @FXML
    private TextArea flushArea, souvenirOutput;

    @FXML
    private TextField dvi, parallel, ps, rj, serial, rca,
            doubleAField, dBatField, holderField, plateField, minField, modField, serialField,
            forgetMeOutput;

    @FXML
    private ToggleButton souvenir, forgetMeNot,
            bobLit, carLit, clrLit, frkLit, frqLit, indLit, msaLit, nsaLit, sigLit, sndLit, trnLit,
            bobUnlit, carUnlit, clrUnlit, frkUnlit, frqUnlit, indUnlit, msaUnlit, nsaUnlit, sigUnlit,
            sndUnlit, trnUnlit;

    public void initialize(){
<span class="nc" id="L68">        toggle(bobGroup, bobLit, bobUnlit);</span>
<span class="nc" id="L69">        toggle(carGroup, carLit, carUnlit);</span>
<span class="nc" id="L70">        toggle(clrGroup, clrLit, clrUnlit);</span>
<span class="nc" id="L71">        toggle(frkGroup, frkLit, frkUnlit);</span>
<span class="nc" id="L72">        toggle(frqGroup, frqLit, frqUnlit);</span>
<span class="nc" id="L73">        toggle(indGroup, indLit, indUnlit);</span>
<span class="nc" id="L74">        toggle(msaGroup, msaLit, msaUnlit);</span>
<span class="nc" id="L75">        toggle(nsaGroup, nsaLit, nsaUnlit);</span>
<span class="nc" id="L76">        toggle(sigGroup, sigLit, sigUnlit);</span>
<span class="nc" id="L77">        toggle(sndGroup, sndLit, sndUnlit);</span>
<span class="nc" id="L78">        toggle(trnGroup, trnLit, trnUnlit);</span>
<span class="nc" id="L79">    }</span>

    private void toggle(ToggleGroup select, ToggleButton...buttons){
<span class="nc bnc" id="L82" title="All 2 branches missed.">        for (ToggleButton button : buttons){</span>
<span class="nc" id="L83">            button.setToggleGroup(select);</span>
        }
<span class="nc" id="L85">    }</span>

    //Widget methods
    @FXML
    private void incrementPort(){
<span class="nc bnc" id="L90" title="All 2 branches missed.">        if (dviUp.isHover()){</span>
<span class="nc" id="L91">            Widget.addPort(Ports.DVI);</span>
<span class="nc" id="L92">            updateField(dvi, Widget.getPort(Ports.DVI));</span>
<span class="nc bnc" id="L93" title="All 2 branches missed.">        } else if (parallelUp.isHover()){</span>
<span class="nc" id="L94">            Widget.addPort(Ports.PARALLEL);</span>
<span class="nc" id="L95">            updateField(parallel, Widget.getPort(Ports.PARALLEL));</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">        } else if (psUp.isHover()){</span>
<span class="nc" id="L97">            Widget.addPort(Ports.PS2);</span>
<span class="nc" id="L98">            updateField(ps, Widget.getPort(Ports.PS2));</span>
<span class="nc bnc" id="L99" title="All 2 branches missed.">        } else if (rjUp.isHover()){</span>
<span class="nc" id="L100">            Widget.addPort(Ports.RJ45);</span>
<span class="nc" id="L101">            updateField(rj, Widget.getPort(Ports.RJ45));</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">        } else if (serialUp.isHover()){</span>
<span class="nc" id="L103">            Widget.addPort(Ports.SERIAL);</span>
<span class="nc" id="L104">            updateField(serial, Widget.getPort(Ports.SERIAL));</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">        } else if (rcaUp.isHover()){</span>
<span class="nc" id="L106">            Widget.addPort(Ports.RCA);</span>
<span class="nc" id="L107">            updateField(rca, Widget.getPort(Ports.RCA));</span>
        }
<span class="nc" id="L109">    }</span>

    @FXML
    private void decrementPort(){
<span class="nc bnc" id="L113" title="All 2 branches missed.">        if (dviDown.isHover()){</span>
<span class="nc" id="L114">            Widget.subPort(Ports.DVI);</span>
<span class="nc" id="L115">            updateField(dvi, Widget.getPort(Ports.DVI));</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">        } else if (parallelDown.isHover()){</span>
<span class="nc" id="L117">            Widget.subPort(Ports.PARALLEL);</span>
<span class="nc" id="L118">            updateField(parallel, Widget.getPort(Ports.PARALLEL));</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">        } else if (psDown.isHover()){</span>
<span class="nc" id="L120">            Widget.subPort(Ports.PS2);</span>
<span class="nc" id="L121">            updateField(ps, Widget.getPort(Ports.PS2));</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">        } else if (rjDown.isHover()){</span>
<span class="nc" id="L123">            Widget.subPort(Ports.RJ45);</span>
<span class="nc" id="L124">            updateField(rj, Widget.getPort(Ports.RJ45));</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">        } else if (serialDown.isHover()){</span>
<span class="nc" id="L126">            Widget.subPort(Ports.SERIAL);</span>
<span class="nc" id="L127">            updateField(serial, Widget.getPort(Ports.SERIAL));</span>
<span class="nc bnc" id="L128" title="All 2 branches missed.">        } else if (rcaDown.isHover()){</span>
<span class="nc" id="L129">            Widget.subPort(Ports.RCA);</span>
<span class="nc" id="L130">            updateField(rca, Widget.getPort(Ports.RCA));</span>
        }
<span class="nc" id="L132">    }</span>

    private void updateField(TextField field, int nextNum){
<span class="nc" id="L135">        field.setText(String.valueOf(nextNum));</span>
<span class="nc" id="L136">    }</span>

    @FXML
    private void setLit(){
<span class="nc" id="L140">        checkUnknown(buttonSetter(bobLit, carLit, clrLit, frkLit, frqLit, indLit, msaLit, nsaLit,</span>
                sigLit, sndLit, trnLit, true));
<span class="nc" id="L142">    }</span>

    @FXML
    private void setUnlit(){
<span class="nc" id="L146">        checkUnknown(buttonSetter(bobUnlit, carUnlit, clrUnlit, frkUnlit, frqUnlit, indUnlit,</span>
                msaUnlit, nsaUnlit, sigUnlit, sndUnlit, trnUnlit, false));
<span class="nc" id="L148">    }</span>

    private int buttonSetter(ToggleButton bob, ToggleButton car, ToggleButton clr, ToggleButton frk,
                              ToggleButton frq, ToggleButton ind, ToggleButton msa, ToggleButton nsa,
                              ToggleButton sig, ToggleButton snd, ToggleButton trn, boolean on){
<span class="nc" id="L153">        Label currentLabel = new Label();</span>
<span class="nc" id="L154">        Indicators currentInd = Indicators.BOB;</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">        TriState currentState = on?ON:OFF;</span>
<span class="nc" id="L156">        int updateCheck = -1;</span>
<span class="nc bnc" id="L157" title="All 2 branches missed.">        if (bob.isHover()){</span>
<span class="nc" id="L158">            updateCheck = 0;</span>
<span class="nc" id="L159">            currentLabel = this.bob;</span>
<span class="nc bnc" id="L160" title="All 2 branches missed.">        } else if (car.isHover()){</span>
<span class="nc" id="L161">            updateCheck = 1;</span>
<span class="nc" id="L162">            currentInd = Indicators.CAR;</span>
<span class="nc" id="L163">            currentLabel = this.car;</span>
<span class="nc bnc" id="L164" title="All 2 branches missed.">        } else if (clr.isHover()){</span>
<span class="nc" id="L165">            updateCheck = 2;</span>
<span class="nc" id="L166">            currentInd = Indicators.CLR;</span>
<span class="nc" id="L167">            currentLabel = this.clr;</span>
<span class="nc bnc" id="L168" title="All 2 branches missed.">        } else if (frk.isHover()){</span>
<span class="nc" id="L169">            updateCheck = 3;</span>
<span class="nc" id="L170">            currentInd = Indicators.FRK;</span>
<span class="nc" id="L171">            currentLabel = this.frk;</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">        } else if (frq.isHover()){</span>
<span class="nc" id="L173">            updateCheck = 4;</span>
<span class="nc" id="L174">            currentInd = Indicators.FRQ;</span>
<span class="nc" id="L175">            currentLabel = this.frq;</span>
<span class="nc bnc" id="L176" title="All 2 branches missed.">        } else if (ind.isHover()){</span>
<span class="nc" id="L177">            updateCheck = 5;</span>
<span class="nc" id="L178">            currentInd = Indicators.IND;</span>
<span class="nc" id="L179">            currentLabel = this.ind;</span>
<span class="nc bnc" id="L180" title="All 2 branches missed.">        } else if (msa.isHover()){</span>
<span class="nc" id="L181">            updateCheck = 6;</span>
<span class="nc" id="L182">            currentInd = Indicators.MSA;</span>
<span class="nc" id="L183">            currentLabel = this.msa;</span>
<span class="nc bnc" id="L184" title="All 2 branches missed.">        } else if (nsa.isHover()){</span>
<span class="nc" id="L185">            updateCheck = 7;</span>
<span class="nc" id="L186">            currentInd = Indicators.NSA;</span>
<span class="nc" id="L187">            currentLabel = this.nsa;</span>
<span class="nc bnc" id="L188" title="All 2 branches missed.">        } else if (sig.isHover()){</span>
<span class="nc" id="L189">            updateCheck = 8;</span>
<span class="nc" id="L190">            currentInd = Indicators.SIG;</span>
<span class="nc" id="L191">            currentLabel = this.sig;</span>
<span class="nc bnc" id="L192" title="All 2 branches missed.">        } else if (snd.isHover()){</span>
<span class="nc" id="L193">            updateCheck = 9;</span>
<span class="nc" id="L194">            currentInd = Indicators.SND;</span>
<span class="nc" id="L195">            currentLabel = this.snd;</span>
<span class="nc bnc" id="L196" title="All 2 branches missed.">        } else if (trn.isHover()){</span>
<span class="nc" id="L197">            updateCheck = 10;</span>
<span class="nc" id="L198">            currentInd = Indicators.TRN;</span>
<span class="nc" id="L199">            currentLabel = this.trn;</span>
        }
<span class="nc" id="L201">        Widget.setIndicator(currentState, currentInd);</span>
<span class="nc" id="L202">        currentLabel.setStyle(currentState.getLabel());</span>
<span class="nc" id="L203">        return updateCheck;</span>
    }

    private void checkUnknown(int check){
<span class="nc bnc" id="L207" title="All 12 branches missed.">        switch (check){</span>
            case 0: {
<span class="nc bnc" id="L209" title="All 2 branches missed.">                if (unselectedGroup(bobLit, bobUnlit)) {</span>
<span class="nc" id="L210">                    bob.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L211">                    Widget.setIndicator(UNKNOWN, Indicators.BOB);</span>
                }
            } break;
            case 1: {
<span class="nc bnc" id="L215" title="All 2 branches missed.">                if (unselectedGroup(carLit, carUnlit)){</span>
<span class="nc" id="L216">                    car.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L217">                    Widget.setIndicator(UNKNOWN, Indicators.CAR);</span>
                }
            } break;
            case 2: {
<span class="nc bnc" id="L221" title="All 2 branches missed.">                if (unselectedGroup(clrLit, clrUnlit)){</span>
<span class="nc" id="L222">                    clr.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L223">                    Widget.setIndicator(UNKNOWN, Indicators.CLR);</span>
                }
            } break;
            case 3: {
<span class="nc bnc" id="L227" title="All 2 branches missed.">                if (unselectedGroup(frkLit, frkUnlit)){</span>
<span class="nc" id="L228">                    frk.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L229">                    Widget.setIndicator(UNKNOWN, Indicators.FRK);</span>
                }
            } break;
            case 4: {
<span class="nc bnc" id="L233" title="All 2 branches missed.">                if (unselectedGroup(frqLit, frqUnlit)){</span>
<span class="nc" id="L234">                    frq.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L235">                    Widget.setIndicator(UNKNOWN, Indicators.FRQ);</span>
                }
            } break;
            case 5: {
<span class="nc bnc" id="L239" title="All 2 branches missed.">                if (unselectedGroup(indLit, indUnlit)){</span>
<span class="nc" id="L240">                    ind.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L241">                    Widget.setIndicator(UNKNOWN, Indicators.IND);</span>
                }
            } break;
            case 6: {
<span class="nc bnc" id="L245" title="All 2 branches missed.">                if (unselectedGroup(msaLit, msaUnlit)){</span>
<span class="nc" id="L246">                    msa.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L247">                    Widget.setIndicator(UNKNOWN, Indicators.MSA);</span>
                }
            } break;
            case 7: {
<span class="nc bnc" id="L251" title="All 2 branches missed.">                if (unselectedGroup(nsaLit, nsaUnlit)){</span>
<span class="nc" id="L252">                    nsa.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L253">                    Widget.setIndicator(UNKNOWN, Indicators.NSA);</span>
                }
            } break;
            case 8: {
<span class="nc bnc" id="L257" title="All 2 branches missed.">                if (unselectedGroup(sigLit, sigUnlit)){</span>
<span class="nc" id="L258">                    sig.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L259">                    Widget.setIndicator(UNKNOWN, Indicators.SIG);</span>
                }
            } break;
            case 9: {
<span class="nc bnc" id="L263" title="All 2 branches missed.">                if (unselectedGroup(sndLit, sndUnlit)){</span>
<span class="nc" id="L264">                    snd.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L265">                    Widget.setIndicator(UNKNOWN, Indicators.SND);</span>
                }
            } break;
            case 10: {
<span class="nc bnc" id="L269" title="All 2 branches missed.">                if (unselectedGroup(trnLit, trnUnlit)){</span>
<span class="nc" id="L270">                    trn.setStyle(UNKNOWN.getLabel());</span>
<span class="nc" id="L271">                    Widget.setIndicator(UNKNOWN, Indicators.TRN);</span>
                }
            } break;
        }
<span class="nc" id="L275">    }</span>

    private boolean unselectedGroup(ToggleButton lit, ToggleButton unlit){
<span class="nc bnc" id="L278" title="All 4 branches missed.">        return !lit.isSelected() &amp;&amp; !unlit.isSelected();</span>
    }

    @FXML
    private void doubleAInfo(){
<span class="nc" id="L283">        Widget.setDoubleAs(info(doubleAField, aLabel));</span>
<span class="nc" id="L284">    }</span>

    @FXML
    private void dBatInfo(){
<span class="nc" id="L288">        Widget.setDBatteries(info(dBatField, dLabel));</span>
<span class="nc" id="L289">    }</span>

    @FXML
    private void holderInfo(){
<span class="nc" id="L293">        Widget.setNumHolders(info(holderField, holderLabel));</span>
<span class="nc" id="L294">    }</span>

    @FXML
    private void plateInfo(){
<span class="nc" id="L298">        Widget.setPlates(info(plateField, plateLabel));</span>
<span class="nc" id="L299">    }</span>

    @FXML
    private void minuteInfo(){
<span class="nc" id="L303">        Widget.setStartTime(info(minField, minuteLabel));</span>
<span class="nc" id="L304">    }</span>

    @FXML
    private void modInfo(){
<span class="nc" id="L308">        Widget.setNumModules(info(modField, moduleLabel));</span>
<span class="nc" id="L309">    }</span>

    private int info(TextField currField, Label currLab){
<span class="nc" id="L312">        String sample = ultimateFilter(currField.getText(), NUMBER_REGEX);</span>
<span class="nc bnc" id="L313" title="All 2 branches missed.">        if (!sample.isEmpty()) {</span>
<span class="nc" id="L314">            currLab.setText(sample + addNoun(currLab));</span>
<span class="nc" id="L315">            return Integer.parseInt(sample);</span>
        }
<span class="nc" id="L317">        currField.setText(&quot;&quot;);</span>
<span class="nc" id="L318">        return -1;</span>
    }

    private String addNoun(Label currLab){
<span class="nc bnc" id="L322" title="All 2 branches missed.">        if (currLab == moduleLabel){</span>
<span class="nc" id="L323">            return &quot; Module(s)&quot;;</span>
<span class="nc bnc" id="L324" title="All 2 branches missed.">        } else if (currLab == minuteLabel){</span>
<span class="nc" id="L325">            return &quot; Minute(s)&quot;;</span>
<span class="nc bnc" id="L326" title="All 2 branches missed.">        } else if (currLab == plateLabel){</span>
<span class="nc" id="L327">            return &quot; Plate(s)&quot;;</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">        } else if (currLab == aLabel){</span>
<span class="nc" id="L329">            return &quot; A Bats&quot;;</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">        } else if (currLab == dLabel){</span>
<span class="nc" id="L331">            return &quot; D's&quot;;</span>
        }
<span class="nc" id="L333">        return &quot; Holder(s)&quot;;</span>
    }

    @FXML
    private void serialCode(){
<span class="nc" id="L338">        Widget.setSerialCode(ultimateFilter(serialField.getText(), NORMAL_CHAR_REGEX));</span>
<span class="nc bnc" id="L339" title="All 2 branches missed.">        if (ultimateFilter(serialField.getText(), NORMAL_CHAR_REGEX).length() == 6)</span>
<span class="nc" id="L340">            serialField.setDisable(true);</span>
<span class="nc" id="L341">    }</span>

    @FXML
    private void souvenirToggle(){
<span class="nc" id="L345">        Widget.setSouvenir(souvenir.isSelected());</span>
<span class="nc bnc" id="L346" title="All 2 branches missed.">        souvenirTab.setDisable(!souvenir.isSelected());</span>
<span class="nc bnc" id="L347" title="All 2 branches missed.">        if (souvenir.isSelected()){</span>
<span class="nc" id="L348">            souvenir.setStyle(&quot;-fx-background-color: forestgreen; -fx-text-fill: black&quot;);</span>
<span class="nc" id="L349">            souvenir.setText(&quot;Souvenir: Enabled&quot;);</span>
        } else {
<span class="nc" id="L351">            souvenir.setStyle(&quot;-fx-background-color: crimson; -fx-text-fill: seashell&quot;);</span>
<span class="nc" id="L352">            souvenir.setText(&quot;Souvenir: Disabled&quot;);</span>
        }
<span class="nc" id="L354">    }</span>

    @FXML
    private void forgetMeToggle(){
<span class="nc" id="L358">        Widget.setForgetMeNot(forgetMeNot.isSelected());</span>
<span class="nc bnc" id="L359" title="All 2 branches missed.">        forgetTab.setDisable(!forgetMeNot.isSelected());</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">        if (forgetMeNot.isSelected()){</span>
<span class="nc" id="L361">            forgetMeNot.setStyle(&quot;-fx-background-color: forestgreen; -fx-text-fill: black&quot;);</span>
<span class="nc" id="L362">            forgetMeNot.setText(&quot;Forget Me Not: Enabled&quot;);</span>
        } else {
<span class="nc" id="L364">            forgetMeNot.setStyle(&quot;-fx-background-color: crimson; -fx-text-fill: seashell&quot;);</span>
<span class="nc" id="L365">            forgetMeNot.setText(&quot;Forget Me Not: Disabled&quot;);</span>
        }
<span class="nc" id="L367">    }</span>

    @FXML @Override
    public void reset() {
<span class="nc" id="L371">        allFalse(bobLit, carLit, clrLit, frkLit, frqLit, indLit, msaLit, nsaLit, sigLit, sndLit);</span>
<span class="nc" id="L372">        allFalse(bobUnlit, carUnlit, clrUnlit, frkUnlit, frqUnlit, indUnlit, msaUnlit, nsaUnlit, sigUnlit, sndUnlit);</span>
<span class="nc" id="L373">        allUnknown();</span>
<span class="nc" id="L374">        resetTexts();</span>
<span class="nc" id="L375">        zeroValues();</span>
<span class="nc" id="L376">        Widget.portZero(Ports.DVI);</span>
<span class="nc" id="L377">        Widget.portZero(Ports.PARALLEL);</span>
<span class="nc" id="L378">        Widget.portZero(Ports.PS2);</span>
<span class="nc" id="L379">        Widget.portZero(Ports.RJ45);</span>
<span class="nc" id="L380">        Widget.portZero(Ports.SERIAL);</span>
<span class="nc" id="L381">        Widget.portZero(Ports.RCA);</span>
<span class="nc" id="L382">        forgetMeNot.setSelected(false);</span>
<span class="nc" id="L383">        souvenir.setSelected(false);</span>
<span class="nc" id="L384">        souvenirTab.setDisable(true);</span>
<span class="nc" id="L385">        forgetTab.setDisable(true);</span>
<span class="nc" id="L386">        forgetMeToggle();</span>
<span class="nc" id="L387">        souvenirToggle();</span>
<span class="nc" id="L388">        stageCounter = 1;</span>
<span class="nc" id="L389">        flushArea.setText(&quot;&quot;);</span>
<span class="nc" id="L390">        forgetMeOutput.setText(&quot;&quot;);</span>
<span class="nc" id="L391">        currentStage.setText(&quot;1&quot;);</span>
<span class="nc" id="L392">        flush.setDisable(true);</span>
<span class="nc" id="L393">        serialField.setDisable(false);</span>
<span class="nc" id="L394">    }</span>

    private void allFalse(ToggleButton bob, ToggleButton car, ToggleButton clr, ToggleButton frk, ToggleButton frq,
                          ToggleButton ind, ToggleButton msa, ToggleButton nsa, ToggleButton sig, ToggleButton snd)
    {
<span class="nc" id="L399">        bob.setSelected(false);</span>
<span class="nc" id="L400">        car.setSelected(false);</span>
<span class="nc" id="L401">        clr.setSelected(false);</span>
<span class="nc" id="L402">        frk.setSelected(false);</span>
<span class="nc" id="L403">        frq.setSelected(false);</span>
<span class="nc" id="L404">        ind.setSelected(false);</span>
<span class="nc" id="L405">        msa.setSelected(false);</span>
<span class="nc" id="L406">        nsa.setSelected(false);</span>
<span class="nc" id="L407">        sig.setSelected(false);</span>
<span class="nc" id="L408">        snd.setSelected(false);</span>
<span class="nc" id="L409">    }</span>

    private void allUnknown(){
<span class="nc" id="L412">        TriState un = UNKNOWN;</span>
<span class="nc" id="L413">        Widget.setIndicator(un, Indicators.BOB);</span>
<span class="nc" id="L414">        Widget.setIndicator(un, Indicators.CAR);</span>
<span class="nc" id="L415">        Widget.setIndicator(un, Indicators.CLR);</span>
<span class="nc" id="L416">        Widget.setIndicator(un, Indicators.FRK);</span>
<span class="nc" id="L417">        Widget.setIndicator(un, Indicators.FRQ);</span>
<span class="nc" id="L418">        Widget.setIndicator(un, Indicators.IND);</span>
<span class="nc" id="L419">        Widget.setIndicator(un, Indicators.MSA);</span>
<span class="nc" id="L420">        Widget.setIndicator(un, Indicators.NSA);</span>
<span class="nc" id="L421">        Widget.setIndicator(un, Indicators.SIG);</span>
<span class="nc" id="L422">        Widget.setIndicator(un, Indicators.SND);</span>
<span class="nc" id="L423">        Widget.setIndicator(un, Indicators.TRN);</span>
<span class="nc" id="L424">        bob.setStyle(un.getLabel());</span>
<span class="nc" id="L425">        car.setStyle(un.getLabel());</span>
<span class="nc" id="L426">        clr.setStyle(un.getLabel());</span>
<span class="nc" id="L427">        frk.setStyle(un.getLabel());</span>
<span class="nc" id="L428">        frq.setStyle(un.getLabel());</span>
<span class="nc" id="L429">        ind.setStyle(un.getLabel());</span>
<span class="nc" id="L430">        msa.setStyle(un.getLabel());</span>
<span class="nc" id="L431">        nsa.setStyle(un.getLabel());</span>
<span class="nc" id="L432">        sig.setStyle(un.getLabel());</span>
<span class="nc" id="L433">        snd.setStyle(un.getLabel());</span>
<span class="nc" id="L434">        trn.setStyle(un.getLabel());</span>
<span class="nc" id="L435">    }</span>

    private void resetTexts(){
<span class="nc" id="L438">        dvi.setText(&quot;0&quot;);</span>
<span class="nc" id="L439">        parallel.setText(&quot;0&quot;);</span>
<span class="nc" id="L440">        ps.setText(&quot;0&quot;);</span>
<span class="nc" id="L441">        rj.setText(&quot;0&quot;);</span>
<span class="nc" id="L442">        serial.setText(&quot;0&quot;);</span>
<span class="nc" id="L443">        rca.setText(&quot;0&quot;);</span>
<span class="nc" id="L444">        aLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L445">        dLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L446">        holderLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L447">        plateLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L448">        minuteLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L449">        moduleLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L450">        serialField.setText(&quot;&quot;);</span>
<span class="nc" id="L451">        doubleAField.setText(&quot;&quot;);</span>
<span class="nc" id="L452">        dBatField.setText(&quot;&quot;);</span>
<span class="nc" id="L453">        holderField.setText(&quot;&quot;);</span>
<span class="nc" id="L454">        modField.setText(&quot;&quot;);</span>
<span class="nc" id="L455">        minField.setText(&quot;&quot;);</span>
<span class="nc" id="L456">        plateField.setText(&quot;&quot;);</span>
<span class="nc" id="L457">    }</span>

    private void zeroValues(){
<span class="nc" id="L460">        Widget.setPlates(0);</span>
<span class="nc" id="L461">        Widget.setStartTime(0);</span>
<span class="nc" id="L462">        Widget.setNumModules(0);</span>
<span class="nc" id="L463">        Widget.setNumHolders(0);</span>
<span class="nc" id="L464">        Widget.setDoubleAs(0);</span>
<span class="nc" id="L465">        Widget.setDBatteries(0);</span>
<span class="nc" id="L466">        Widget.setTwoFactor(&quot;&quot;);</span>
<span class="nc" id="L467">        Widget.setSerialCode(&quot;&quot;);</span>
<span class="nc" id="L468">    }</span>

    @FXML
    private void addNoteWindow(){
<span class="nc bnc" id="L472" title="All 2 branches missed.">        if (noteWindows.size() != 5) {</span>
            try {
<span class="nc" id="L474">                Parent root = FXMLLoader.load(getClass().getResource(&quot;../../resources/bomb/fxml/Note.fxml&quot;));</span>
<span class="nc" id="L475">                Stage stage = new Stage();</span>
<span class="nc" id="L476">                stage.setTitle(&quot;Extra Notes&quot;);</span>
<span class="nc" id="L477">                stage.setScene(new Scene(root, 600, 400));</span>
<span class="nc" id="L478">                noteWindows.add(stage);</span>
<span class="nc" id="L479">                stage.show();</span>
<span class="nc" id="L480">            } catch (IOException ioException){</span>
<span class="nc" id="L481">                Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc" id="L482">                alert.setContentText(&quot;IO Exception&quot;);</span>
<span class="nc" id="L483">                alert.showAndWait();</span>
<span class="nc" id="L484">            }</span>
        } else {
<span class="nc" id="L486">            Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc" id="L487">            alert.setContentText(&quot;Max Capacity reached&quot;);</span>
<span class="nc" id="L488">            alert.showAndWait();</span>
        }
<span class="nc" id="L490">    }</span>

    //Forget Me Not methods
    @FXML
    private void nextNumber(){
<span class="nc bnc" id="L495" title="All 2 branches missed.">        if (Widget.numModules != 0) {</span>
            try {
<span class="nc bnc" id="L497" title="All 2 branches missed.">                if (one.isHover())</span>
<span class="nc" id="L498">                    addTo(one);</span>
<span class="nc bnc" id="L499" title="All 2 branches missed.">                else if (two.isHover())</span>
<span class="nc" id="L500">                    addTo(two);</span>
<span class="nc bnc" id="L501" title="All 2 branches missed.">                else if (three.isHover())</span>
<span class="nc" id="L502">                    addTo(three);</span>
<span class="nc bnc" id="L503" title="All 2 branches missed.">                else if (four.isHover())</span>
<span class="nc" id="L504">                    addTo(four);</span>
<span class="nc bnc" id="L505" title="All 2 branches missed.">                else if (five.isHover())</span>
<span class="nc" id="L506">                    addTo(five);</span>
<span class="nc bnc" id="L507" title="All 2 branches missed.">                else if (six.isHover())</span>
<span class="nc" id="L508">                    addTo(six);</span>
<span class="nc bnc" id="L509" title="All 2 branches missed.">                else if (seven.isHover())</span>
<span class="nc" id="L510">                    addTo(seven);</span>
<span class="nc bnc" id="L511" title="All 2 branches missed.">                else if (eight.isHover())</span>
<span class="nc" id="L512">                    addTo(eight);</span>
<span class="nc bnc" id="L513" title="All 2 branches missed.">                else if (nine.isHover())</span>
<span class="nc" id="L514">                    addTo(nine);</span>
<span class="nc bnc" id="L515" title="All 2 branches missed.">                else if (zero.isHover())</span>
<span class="nc" id="L516">                    addTo(zero);</span>
<span class="nc" id="L517">                undoButton.setDisable(false);</span>
<span class="nc" id="L518">                writeNext();</span>
<span class="nc" id="L519">            } catch (IllegalArgumentException illegal) {</span>
<span class="nc" id="L520">                Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc" id="L521">                alert.setHeaderText(&quot;Serial Code&quot;);</span>
<span class="nc" id="L522">                alert.setContentText(illegal.getMessage());</span>
<span class="nc" id="L523">                alert.showAndWait();</span>
<span class="nc" id="L524">            }</span>
        } else {
<span class="nc" id="L526">            Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc" id="L527">            alert.setContentText(&quot;Need to set the number of modules for this to work&quot;);</span>
<span class="nc" id="L528">            alert.showAndWait();</span>
        }
<span class="nc" id="L530">    }</span>

    private void writeNext(){
<span class="nc" id="L533">        currentStage.setText(String.valueOf(++stageCounter));</span>
<span class="nc" id="L534">        judge();</span>
<span class="nc" id="L535">        maxCap();</span>
<span class="nc" id="L536">    }</span>

    private void addTo(Button button){
<span class="nc" id="L539">        int temp = Integer.parseInt(button.getText());</span>
<span class="nc" id="L540">        ForgetMeNot.add(stageCounter, temp);</span>
<span class="nc" id="L541">        forgetMeOutput.setText(&quot;Stage &quot; + stageCounter + &quot; was a &quot; + temp);</span>
<span class="nc" id="L542">    }</span>

    private void judge(){
<span class="nc bnc" id="L545" title="All 2 branches missed.">        if (stageCounter &gt;= Widget.numModules*0.9) flush.setDisable(false);</span>
<span class="nc" id="L546">    }</span>

    private void maxCap(){
<span class="nc bnc" id="L549" title="All 2 branches missed.">        if (stageCounter == Widget.numModules){</span>
<span class="nc" id="L550">            one.setDisable(true);</span>
<span class="nc" id="L551">            two.setDisable(true);</span>
<span class="nc" id="L552">            three.setDisable(true);</span>
<span class="nc" id="L553">            four.setDisable(true);</span>
<span class="nc" id="L554">            five.setDisable(true);</span>
<span class="nc" id="L555">            six.setDisable(true);</span>
<span class="nc" id="L556">            seven.setDisable(true);</span>
<span class="nc" id="L557">            eight.setDisable(true);</span>
<span class="nc" id="L558">            nine.setDisable(true);</span>
<span class="nc" id="L559">            zero.setDisable(true);</span>
        }
<span class="nc" id="L561">    }</span>

    @FXML
    private void undo(){
<span class="nc bnc" id="L565" title="All 2 branches missed.">        if (stageCounter &gt; 1) {</span>
<span class="nc" id="L566">            ForgetMeNot.undo();</span>
<span class="nc" id="L567">            forgetMeOutput.setText(&quot;Previous stage undone&quot;);</span>
<span class="nc" id="L568">            currentStage.setText(String.valueOf(--stageCounter));</span>
        }
<span class="nc" id="L570">        undoCheck();</span>
<span class="nc" id="L571">    }</span>

    private void undoCheck(){
<span class="nc bnc" id="L574" title="All 2 branches missed.">        if (stageCounter == 1) undoButton.setDisable(true);</span>
<span class="nc" id="L575">    }</span>

    @FXML
    private void flushOut(){
<span class="nc" id="L579">        flushArea.setText(ForgetMeNot.flush());</span>
<span class="nc" id="L580">        flush.setDisable(true);</span>
<span class="nc" id="L581">        undoButton.setDisable(true);</span>
<span class="nc" id="L582">        stageCounter = 1;</span>
<span class="nc" id="L583">        reEnable();</span>
<span class="nc" id="L584">    }</span>

    private void reEnable(){
<span class="nc" id="L587">        one.setDisable(false);</span>
<span class="nc" id="L588">        two.setDisable(false);</span>
<span class="nc" id="L589">        three.setDisable(false);</span>
<span class="nc" id="L590">        four.setDisable(false);</span>
<span class="nc" id="L591">        five.setDisable(false);</span>
<span class="nc" id="L592">        six.setDisable(false);</span>
<span class="nc" id="L593">        seven.setDisable(false);</span>
<span class="nc" id="L594">        eight.setDisable(false);</span>
<span class="nc" id="L595">        nine.setDisable(false);</span>
<span class="nc" id="L596">        zero.setDisable(false);</span>
<span class="nc" id="L597">    }</span>

    //Souvenir Method
    @FXML
    private void streamOut(){
<span class="nc" id="L602">        String temp = Souvenir.flush();</span>
<span class="nc bnc" id="L603" title="All 4 branches missed.">        if (souvenirTab.isSelected() &amp;&amp; temp != null)</span>
<span class="nc" id="L604">            souvenirOutput.setText(temp);</span>
<span class="nc" id="L605">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>