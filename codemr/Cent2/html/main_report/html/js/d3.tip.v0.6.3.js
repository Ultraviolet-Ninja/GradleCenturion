d3.tip=function(){var t=function(){return"n"},e=function(){return[0,0]},n=function(){return" "},r=function(){var t=d3.select(document.createElement("div"));return t.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()}(),o=null,l=null,f=null;function i(t){t&&(o=function(t){if(!t)return;if(!(t=t.node()))return;return"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}(t))&&(l=o.createSVGPoint(),document.body.appendChild(r))}i.show=function(){var o=Array.prototype.slice.call(arguments);o[o.length-1]instanceof SVGElement&&(f=o.pop());var l,a=n.apply(this,o),c=e.apply(this,o),p=t.apply(this,o),d=d3.select(r),y=0;for(d.html(a).style({opacity:1,"pointer-events":"all"});y--;)d.classed(u[y],!1);return l=s.get(p).apply(this),d.classed(p,!0).style({top:l.top+c[0]+"px",left:l.left+c[1]+"px"}),i},i.hide=function(){return nodel=d3.select(r),nodel.style({opacity:0,"pointer-events":"none"}),i},i.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(r).attr(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(r),n),i},i.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return d3.select(r).style(t);var n=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(r),n),i},i.direction=function(e){return arguments.length?(t=null==e?e:d3.functor(e),i):t},i.offset=function(t){return arguments.length?(e=null==t?t:d3.functor(t),i):e},i.html=function(t){return arguments.length?(n=null==t?t:d3.functor(t),i):n};var s=d3.map({n:function(){var t=a();return{top:t.n.y-r.offsetHeight,left:t.n.x-r.offsetWidth/2}},s:function(){var t=a();return{top:t.s.y,left:t.s.x-r.offsetWidth/2}},e:function(){var t=a();return{top:t.e.y-r.offsetHeight/2,left:t.e.x}},w:function(){var t=a();return{top:t.w.y-r.offsetHeight/2,left:t.w.x-r.offsetWidth}},nw:function(){var t=a();return{top:t.nw.y-r.offsetHeight,left:t.nw.x-r.offsetWidth}},ne:function(){var t=a();return{top:t.ne.y-r.offsetHeight,left:t.ne.x}},sw:function(){var t=a();return{top:t.sw.y,left:t.sw.x-r.offsetWidth}},se:function(){var t=a();return{top:t.se.y,left:t.e.x}}}),u=s.keys();function a(){var t=f||d3.event.target,e={},n=t.getScreenCTM(),r=t.getBBox(),o=r.width,i=r.height,s=r.x,u=r.y,a=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;return l.x=s+c,l.y=u+a,e.nw=l.matrixTransform(n),l.x+=o,e.ne=l.matrixTransform(n),l.y+=i,e.se=l.matrixTransform(n),l.x-=o,e.sw=l.matrixTransform(n),l.y-=i/2,e.w=l.matrixTransform(n),l.x+=o,e.e=l.matrixTransform(n),l.x-=o/2,l.y-=i/2,e.n=l.matrixTransform(n),l.y+=i,e.s=l.matrixTransform(n),e}return i};
