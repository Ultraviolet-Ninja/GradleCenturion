plugins {
    id 'java'
    id 'jacoco'
    id 'application'
}

group 'jasmine.jragon'

mainClassName = 'bomb.Main'

compileJava {
    options.encoding("UTF-8")
}

compileTestJava {
    options.encoding("UTF-8")
}

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'org.testng', name: 'testng', version: '7.4.0'
    implementation group: 'org.jgrapht', name: 'jgrapht-ext', version: '1.4.0'
    implementation 'com.jfoenix:jfoenix:8.0.10'
    implementation group: 'org.fxmisc.richtext', name: 'richtextfx', version: '0.10.6'
    implementation 'org.controlsfx:controlsfx:8.40.18'
    implementation group: 'eu.hansolo', name: 'Medusa', version: '8.3'
}

test {
    useTestNG()
    finalizedBy(jacocoTestReport)
}

jacocoTestReport {
    reports {
        xml.enabled(true)
    }
}

jar {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    manifest {
        attributes "Main-Class": "$mainClassName"
    }
}